# Парсер новостей(Тестовое задание)
## Задание
Спарсить (программно) первые 15 новостей с rbk.ru (блок, откуда брать новости показан на скриншоте) и вставить в базу данных (составить структуру самому) или в файл. Вывести все новости, сократив текст до 200 символов в качестве описания, со ссылкой на полную новость с кнопкой подробнее. На полной новости выводить картинку если есть в новости.

Было бы плюсом: возможность расширения функционала парсинга для добавления дополнительных новостных ресурсов.
> Задание было скорректировано в процессе разговора. Необходимо выполнить только backend часть. Плюсом будет выполнение с использование фреймверка Symfony
## О выполнении задания
1. Выполнен парсер для сайтов с использованием отдельных модулей из фреймверка Symfony. В качестве дефолтных настроек указаны свойства для парсинга сайта RBK.ru
2. Реализовн парсинг и других сайтов, для конфигурации необходимо указать ресурс и селекторы согласно CSS, для выборки необходимой информации.
Конфигурировать необходимо при создании объекта парсинга следующим образом:
```php
$parse = new Parse(
        string $url = "https://www.rbc.ru", 
        string $selectorMainLinks = ".js-news-feed-list",
        string $selectorEntryLinks = ".news-feed__item", 
        string $selectorHref = "", 
        string $selectorEntryArticle = ".article",
        string $selectorHead = ".article__header__title", 
        string $selectorText = ".article__text", 
        string $selectorImg = ".article__main-image__wrap img");
```
> Так как во времени были ограничения, предлагаю дополнительные рекомендации по улучшению кода, для повышения эффективности и читаемости
## Рекомендации по улучшению кода
1. Немного изменить структуру для использования явных транзакций в базу данных, а таблицы, перевести в режим MyISAM.
2. Вынести обработку изображения в отдельный класс, согласно принципам SOLID.
3. Ввести дополнительные проверки.
## Установка и настройка
1. Необходимо создать базу данных со следующей структурой:
![alt text](https://github.com/kleba37/TestParse/blob/master/structure-database.png)
2. Необходимо указать данные для подключения к Базе данных в файле config.yaml в разделе Mysql или mysql
```yaml
Mysql:
  host: mysql
  user: test
  password: test
  database: test
```
